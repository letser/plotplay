events:
  - id: "emma_quad_wave"
    type: "event"
    title: "Emma Waves You Over"
    characters_present: ["emma"]
    when: "state.location.id == 'campus_quad' and time.slot == 'afternoon' and flags.met_emma == false"
    probability: 100
    cooldown: 1
    once_per_game: true
    beats:
      - "Emma spots you across the quad, closing her textbook with a hopeful smile."
    choices:
      - id: "emma_event_greet"
        prompt: "Cross the grass and say hi."
        on_select:
          - type: "flag_set"
            key: "met_emma"
            value: true
          - type: "meter_change"
            target: "emma"
            meter: "trust"
            op: "add"
            value: 6
          - type: "goto"
            node: "quad_catchup"

  - id: "zoe_pop_up_gig"
    type: "event"
    title: "Pop-Up Gig Invitation"
    characters_present: ["zoe"]
    when: "state.location.id == 'campus_cafe' and time.slot == 'evening' and flags.met_zoe == true and flags.zoe_band_invite == false"
    probability: 60
    cooldown: 2
    beats:
      - "Zoe leans over the counter, lowering her voice conspiratorially."
      - "\"We're playing a pop-up set downtown tonight. You in?\""
    choices:
      - id: "zoe_event_accept"
        prompt: "Promise to be there."
        on_select:
          - type: "flag_set"
            key: "zoe_band_invite"
            value: true
          - type: "meter_change"
            target: "zoe"
            meter: "trust"
            op: "add"
            value: 5
      - id: "zoe_event_decline"
        prompt: "Apologize and admit you have to study."
        on_select:
          - type: "meter_change"
            target: "zoe"
            meter: "trust"
            op: "subtract"
            value: 3
