events:
  - id: "park_volunteer_event"
    type: "event"
    title: "Park Volunteer Check-In"
    when_all:
      - "location.id == 'suburbs_park'"
      - "not flags.park_encounter_logged"
    once_per_game: true
    effects:
      - type: "goto"
        node: "park_encounter"

  - id: "evening_busker_event"
    type: "event"
    title: "Evening Plaza Busker"
    when_all:
      - "location.id == 'downtown_plaza'"
      - "time.slot == 'evening'"
      - "not flags.evening_busker_unlocked"
    effects:
      - type: "flag_set"
        key: "evening_busker_unlocked"
        value: true

  - id: "industrial_clearance_event"
    type: "event"
    title: "Safety Clearance Protocol"
    when_all:
      - "location.id == 'industrial_yard'"
      - "has_item('player', 'hi_vis_vest')"
      - "not flags.safety_clearance_ready"
    once_per_game: true
    effects:
      - type: "inventory_add"
        owner: "player"
        item: "warehouse_pass"
        count: 1
      - type: "flag_set"
        key: "safety_clearance_ready"
        value: true
